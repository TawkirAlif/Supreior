"use strict";
var mobile_display_on = !1,
	did_scroll;
function is_fixed_header() {
	(jQuery("body").hasClass("has-fixed-header") || jQuery("body").hasClass("has-fixed-mobile-header-cta-header")) && jQuery(".top-header").length && fixed_header()
}
function fixed_header() {
	if (jQuery("body.has-fixed-mobile-header-cta-header").length) {
		var header_height = Math.round(jQuery(".top-center-cta").length ? jQuery(".main-nav-container").outerHeight() - jQuery(".top-center-cta").outerHeight() : jQuery(".main-nav-container").outerHeight());
		header_height < 55 && (header_height = Math.round(jQuery(".main-nav-container").outerHeight()));
		var main_margin_top = Math.round(jQuery(".header-cta-all").length ? jQuery(".header-cta-all").height() : jQuery(".header-cta-mobile").height()) + 19;
		set_mobile_header_cta_position(header_height),
		setInterval((function() {
			jQuery(".has-fixed-mobile-header-cta-header .header-cta-mobile, .has-fixed-mobile-header-cta-header .header-cta-all").css("transition", "border-top .15s ease")
		}), 50)
	} else
		var main_margin_top = Math.round(jQuery(".top-header").height());
	jQuery(".top-header + aside + main").css("marginTop", main_margin_top),
	jQuery("body").addClass("active-fixed-header")
}
jQuery(document).ready((function() {
	if (is_fixed_header(), jQuery(window).on("resize", is_fixed_header), jQuery(".has-hamburger-menu #main-nav").length && jQuery("#main-nav").prepend('<button type="button" class="close" data-toggle="collapse" data-target="#main-nav" aria-controls="main-nav" aria-expanded="false" aria-label="Toggle navigation"><span aria-hidden="true">Ã—</span></button>'), jQuery(".sidebar-content.sticky-top").length) {
		var sticky_top = jQuery(".has-fixed-header").length ? jQuery(".top-header").height() + 40 : "3rem";
		jQuery(".sidebar-content").css("top", sticky_top)
	}
	if (jQuery("input[data-mask]").each((function(index, element) {
		jQuery(element).mask(jQuery(element).data("mask"))
	})), jQuery("body").on("change", "form .error[required]", (function() {
		("email" !== jQuery(this).attr("type") && jQuery(this).val() || "email" == jQuery(this).attr("type") && !0 === validate_email(jQuery(this).val())) && (jQuery(this).removeClass("error"), jQuery(this).attr("id") ? jQuery("label." + jQuery(this).attr("id")).remove() : jQuery("label." + jQuery(this).attr("name").toLowerCase().replace(/ /g, "_")).remove())
	})), jQuery("body").on("change", 'form input.error[type="radio"][required]', (function() {
		var name = jQuery(this).attr("name");
		jQuery('input[name="' + name + '"]:checked').length && jQuery('input[name="' + name + '"]').removeClass("error")
	})), jQuery(".mobile-sidebar-between-content .sidebar").length && jQuery("body").width() <= 991) {
		var hide_sidebar = !1;
		if (jQuery(".single .article-container .content").length) {
			var sidebar = '<aside class="sidebar inline-sidebar">' + jQuery(".sidebar").html() + "</aside>";
			jQuery(".single .article-container .content > p:nth-of-type(5)").length && (jQuery(sidebar).insertAfter(".single .article-container .content > p:nth-of-type(5)"), hide_sidebar = !0)
		} else if (jQuery(".posts-list .articles-container .post-preview").length) {
			var sidebar = '<aside class="sidebar inline-sidebar col-md-12">' + jQuery(".sidebar").html() + "</aside>";
			jQuery(".posts-list .articles-container > .row .post-preview:nth-of-type(5)").length && (jQuery(sidebar).insertAfter(".posts-list .articles-container > .row .post-preview:nth-of-type(5)"), hide_sidebar = !0)
		}
		hide_sidebar && jQuery(".sidebar:not(.inline-sidebar)").addClass("hide-sidebar")
	}
	jQuery("body").width() <= 767 && jQuery("body.has-fixed-mobile-header-cta-header").length && mobile_header_cta_display(),
	jQuery(window).resize((function() {
		jQuery("body").width() <= 767 && jQuery("body.has-fixed-mobile-header-cta-header").length && !mobile_display_on && mobile_header_cta_display()
	}))
}));
var last_scroll_top = 0,
	delta = 5,
	header_height = Math.round(jQuery(".top-center-cta").length ? jQuery(".main-nav-container").outerHeight() - jQuery(".top-center-cta").outerHeight() : jQuery(".main-nav-container").outerHeight());
function has_scrolled() {
	var current_scroll_top = jQuery(window).scrollTop();
	Math.abs(last_scroll_top - current_scroll_top) <= delta || (set_mobile_header_cta_position(header_height), last_scroll_top = current_scroll_top)
}
function set_mobile_header_cta_position(header_height) {
	if (jQuery(".header-cta-mobile").length)
		var mobile_header_offset = jQuery(".header-cta-mobile").offset().top;
	else {
		if (!jQuery(".header-cta-all").length)
			return;
		var mobile_header_offset = jQuery(".header-cta-all").offset().top
	}
	var current_scroll_top = jQuery(window).scrollTop();
	if (0 == mobile_header_offset || 0 == current_scroll_top)
		jQuery(".has-fixed-mobile-header-cta-header .header-cta-mobile, .has-fixed-mobile-header-cta-header .header-cta-all").css("border-top-width", header_height);
	else if (mobile_header_offset < header_height) {
		var adjusted_height = Math.round(header_height - mobile_header_offset);
		jQuery(".has-fixed-mobile-header-cta-header .header-cta-mobile, .has-fixed-mobile-header-cta-header .header-cta-all").css("border-top-width", adjusted_height)
	} else
		jQuery(".has-fixed-mobile-header-cta-header .header-cta-mobile, .has-fixed-mobile-header-cta-header .header-cta-all").css("border-top-width", 0)
}
function mobile_header_cta_display() {
	mobile_display_on = !0,
	jQuery(window).scroll((function(event) {
		did_scroll = !0
	})),
	setInterval((function() {
		did_scroll && (has_scrolled(), did_scroll = !1)
	}), 250),
	jQuery("body:not(.has-hamburger-menu) #main-nav").on("show.bs.collapse", (function() {
		jQuery(".top-header + aside + main").addClass("reset-mt-0")
	})),
	jQuery("body:not(.has-hamburger-menu) #main-nav").on("hide.bs.collapse", (function() {
		jQuery(".top-header + aside + main").removeClass("reset-mt-0")
	}))
}
function hide_modal() {
	jQuery("#quote-modal").length && !jQuery("#quote-modal label.error:visible").length && jQuery("#quote-modal").modal("hide")
}
function submit_quote_form(submit_button) {
	var form = jQuery(submit_button).parents("form");
	if (validate_form(form)) {
		jQuery(form).find(".submit-quote-form").attr("disabled", !0);
		var url = jQuery(form).data("url"),
			data = jQuery(form).serialize();
		jQuery.post(url, data).done((function(result) {
			if ("object" != typeof result)
				var result = jQuery.parseJSON(result);
			"" !== result && "object" == typeof result ? "success" == result.type ? void 0 === result.success_message ? window.location.href = result.success_url : (jQuery(form).slideUp(200), jQuery('<div class="form-response alert alert-success">' + result.success_message + "</div>").insertAfter(form)) : (jQuery(form).slideUp(200), jQuery('<div class="form-response alert alert-danger"><b>Error:</b> Unable to send your message! please call us.</div>').insertAfter(form)) : jQuery('<div class="form-response alert alert-danger"><b>Error:</b> Unable to send your message! please call us.</div>').insertAfter(form)
		})).fail((function() {
			jQuery('<div class="form-response alert alert-danger"><b>Error:</b> Unable to send your message! please call us.</div>').insertAfter(form)
		})).always((function() {
			jQuery(form).find(".submit-quote-form").attr("disabled", !1)
		}))
	}
}
function validate_form(form) {
	var element_name,
		element_error_class,
		error_text,
		invalid_form_elements = [],
		form_is_valid = !0,
		unique_id = 1;
	return jQuery(form).find("[required]").each((function(index, element) {
		if (!jQuery(element).val() || "email" == jQuery(element).attr("type") && !0 !== validate_email(jQuery(element).val())) {
			if (element_name = jQuery(element).data("original-title") ? jQuery(element).data("original-title").toLowerCase() : jQuery(element).attr("title").toLowerCase(), "]" == jQuery(element).attr("name").slice(-1) && !jQuery(element).attr("id")) {
				var id = jQuery(element).attr("name").toLowerCase().replace(/ /g, "_").replace(/\[/g, "").replace(/\]/g, "") + unique_id;
				unique_id++,
				jQuery(element).attr("id", id)
			}
			element_error_class = jQuery(element).attr("id") ? jQuery(element).attr("id") : jQuery(element).attr("name").toLowerCase().replace(/ /g, "_"),
			error_text = "select " + element_name,
			(jQuery(element).is("input") || jQuery(element).is("textarea")) && (error_text = "insert " + element_name),
			jQuery(form).find(".error." + element_error_class).length || (jQuery(element).hasClass("select2") ? jQuery('<label class="error ' + element_error_class + '">Please ' + error_text + ".</label>").insertAfter(jQuery(element).next(".select2.select2-container")) : jQuery('<label class="error ' + element_error_class + '">Please ' + error_text + ".</label>").insertAfter(element), jQuery(element).addClass("error")),
			invalid_form_elements.push(element),
			form_is_valid = !1
		}
		if ("radio" == jQuery(element).attr("type") || "checkbox" == jQuery(element).attr("type")) {
			var name = jQuery(element).attr("name");
			jQuery('input[name="' + name + '"]:checked').length || (jQuery('input[name="' + jQuery(element).attr("name") + '"]').addClass("error"), invalid_form_elements.push(element), form_is_valid = !1)
		}
	})), !!form_is_valid || (jQuery(invalid_form_elements[0]).focus(), !1)
}
function validate_email(email) {
	var pattern = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
	return !!jQuery.trim(email).match(pattern)
}
header_height < 55 && (header_height = Math.round(jQuery(".main-nav-container").outerHeight())),
jQuery(".dropdown").on("show.bs.dropdown", (function() {
	jQuery(this).find(".dropdown-menu").first().stop(!0, !0).slideDown()
})),
jQuery(".dropdown").on("hide.bs.dropdown", (function() {
	jQuery(this).find(".dropdown-menu").first().stop(!0, !0).slideUp()
})),
jQuery("#quote-modal").on("shown", (function() {
	jQuery(document).off("focusin.modal")
})),
jQuery("body").on("click", ".nqwgt-btn-get-quotes", (function() {
	setTimeout(hide_modal, 2e3)
}));
